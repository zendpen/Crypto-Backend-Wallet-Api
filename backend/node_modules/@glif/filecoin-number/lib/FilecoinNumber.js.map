{"version":3,"sources":["../src/FilecoinNumber.js"],"names":["BigNumber","require","set","ROUNDING_MODE","ROUND_HALF_DOWN","config","EXPONENTIAL_AT","FilecoinNumber","amount","denom","Error","formattedDenom","toLowerCase","shiftedBy","toString","toFixed","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAzB,C,CAEA;;;AACAD,SAAS,CAACE,GAAV,CAAc;AAAEC,EAAAA,aAAa,EAAEH,SAAS,CAACI;AAA3B,CAAd;AACAJ,SAAS,CAACK,MAAV,CAAiB;AAAEC,EAAAA,cAAc,EAAE;AAAlB,CAAjB,E,CAEA;;IACMC,c;;;;;AACJ,0BAAYC,MAAZ,EAAoBC,KAApB,EAA2B;AAAA;;AAAA;;AACzB,QAAI,CAACA,KAAL,EACE,MAAM,IAAIC,KAAJ,CAAU,iDAAV,CAAN;AACF,QAAMC,cAAc,GAAGF,KAAK,CAACG,WAAN,EAAvB;AACA,QACED,cAAc,KAAK,KAAnB,IACAA,cAAc,KAAK,SADnB,IAEAA,cAAc,KAAK,SAHrB,EAKE,MAAM,IAAID,KAAJ,CACJ,+EADI,CAAN;;AAGF,QAAIC,cAAc,KAAK,SAAvB,EAAkC;AAChC,gCAAM,IAAIX,SAAJ,CAAcQ,MAAd,EAAsBK,SAAtB,CAAgC,CAAC,EAAjC,CAAN;;AADgC,8DAS5B;AAAA,eAAM,MAAKC,QAAL,EAAN;AAAA,OAT4B;;AAAA,kEAUxB;AAAA,eAAM,MAAKD,SAAL,CAAe,EAAf,EAAmBC,QAAnB,EAAN;AAAA,OAVwB;;AAAA,kEAWxB;AAAA,eAAM,MAAKD,SAAL,CAAe,EAAf,EAAmBE,OAAnB,CAA2B,CAA3B,EAA8B,CAA9B,CAAN;AAAA,OAXwB;AAEjC,KAFD,MAEO,IAAIJ,cAAc,KAAK,SAAvB,EAAkC;AACvC,gCAAM,IAAIX,SAAJ,CAAcQ,MAAd,EAAsBK,SAAtB,CAAgC,CAAC,EAAjC,CAAN;;AADuC,8DAOnC;AAAA,eAAM,MAAKC,QAAL,EAAN;AAAA,OAPmC;;AAAA,kEAQ/B;AAAA,eAAM,MAAKD,SAAL,CAAe,EAAf,EAAmBC,QAAnB,EAAN;AAAA,OAR+B;;AAAA,kEAS/B;AAAA,eAAM,MAAKD,SAAL,CAAe,EAAf,EAAmBE,OAAnB,CAA2B,CAA3B,EAA8B,CAA9B,CAAN;AAAA,OAT+B;AAExC,KAFM,MAEA;AACL,gCAAMP,MAAN;;AADK,8DAKD;AAAA,eAAM,MAAKM,QAAL,EAAN;AAAA,OALC;;AAAA,kEAMG;AAAA,eAAM,MAAKD,SAAL,CAAe,EAAf,EAAmBC,QAAnB,EAAN;AAAA,OANH;;AAAA,kEAOG;AAAA,eAAM,MAAKD,SAAL,CAAe,EAAf,EAAmBE,OAAnB,CAA2B,CAA3B,EAA8B,CAA9B,CAAN;AAAA,OAPH;AAEN;;AAlBwB;AAmB1B;;;EApB0Bf,S;;AA2B7BgB,MAAM,CAACC,OAAP,GAAiBV,cAAjB","sourcesContent":["const BigNumber = require('bignumber.js')\n\n// not sure how we want to configure rounding for this\nBigNumber.set({ ROUNDING_MODE: BigNumber.ROUND_HALF_DOWN })\nBigNumber.config({ EXPONENTIAL_AT: 1e9 })\n\n// stores filecoin numbers in denominations of Fil, not AttoFil\nclass FilecoinNumber extends BigNumber {\n  constructor(amount, denom) {\n    if (!denom)\n      throw new Error('No Filecoin denomination passed in constructor.')\n    const formattedDenom = denom.toLowerCase()\n    if (\n      formattedDenom !== 'fil' &&\n      formattedDenom !== 'picofil' &&\n      formattedDenom !== 'attofil'\n    )\n      throw new Error(\n        'Unsupported denomination passed in constructor. Must pass picofil or attofil.',\n      )\n    if (formattedDenom === 'picofil') {\n      super(new BigNumber(amount).shiftedBy(-12))\n    } else if (formattedDenom === 'attofil') {\n      super(new BigNumber(amount).shiftedBy(-18))\n    } else {\n      super(amount)\n    }\n  }\n\n  toFil = () => this.toString()\n  toPicoFil = () => this.shiftedBy(12).toString()\n  toAttoFil = () => this.shiftedBy(18).toFixed(0, 1)\n}\n\nmodule.exports = FilecoinNumber\n"],"file":"FilecoinNumber.js"}