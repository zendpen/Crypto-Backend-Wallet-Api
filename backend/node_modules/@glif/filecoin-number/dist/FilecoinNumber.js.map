{"version":3,"sources":["../src/FilecoinNumber.js"],"names":["BigNumber","require","set","ROUNDING_MODE","ROUND_HALF_DOWN","config","EXPONENTIAL_AT","FilecoinNumber","constructor","amount","denom","Error","formattedDenom","toLowerCase","shiftedBy","toString","toFixed","module","exports"],"mappings":";;;;AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAzB,C,CAEA;;;AACAD,SAAS,CAACE,GAAV,CAAc;AAAEC,EAAAA,aAAa,EAAEH,SAAS,CAACI;AAA3B,CAAd;AACAJ,SAAS,CAACK,MAAV,CAAiB;AAAEC,EAAAA,cAAc,EAAE;AAAlB,CAAjB,E,CAEA;;AACA,MAAMC,cAAN,SAA6BP,SAA7B,CAAuC;AACrCQ,EAAAA,WAAW,CAACC,MAAD,EAASC,KAAT,EAAgB;AACzB,QAAI,CAACA,KAAL,EACE,MAAM,IAAIC,KAAJ,CAAU,iDAAV,CAAN;AACF,UAAMC,cAAc,GAAGF,KAAK,CAACG,WAAN,EAAvB;AACA,QACED,cAAc,KAAK,KAAnB,IACAA,cAAc,KAAK,SADnB,IAEAA,cAAc,KAAK,SAHrB,EAKE,MAAM,IAAID,KAAJ,CACJ,+EADI,CAAN;;AAGF,QAAIC,cAAc,KAAK,SAAvB,EAAkC;AAChC,YAAM,IAAIZ,SAAJ,CAAcS,MAAd,EAAsBK,SAAtB,CAAgC,CAAC,EAAjC,CAAN;;AADgC,qCAS5B,MAAM,KAAKC,QAAL,EATsB;;AAAA,yCAUxB,MAAM,KAAKD,SAAL,CAAe,EAAf,EAAmBC,QAAnB,EAVkB;;AAAA,yCAWxB,MAAM,KAAKD,SAAL,CAAe,EAAf,EAAmBE,OAAnB,CAA2B,CAA3B,EAA8B,CAA9B,CAXkB;AAEjC,KAFD,MAEO,IAAIJ,cAAc,KAAK,SAAvB,EAAkC;AACvC,YAAM,IAAIZ,SAAJ,CAAcS,MAAd,EAAsBK,SAAtB,CAAgC,CAAC,EAAjC,CAAN;;AADuC,qCAOnC,MAAM,KAAKC,QAAL,EAP6B;;AAAA,yCAQ/B,MAAM,KAAKD,SAAL,CAAe,EAAf,EAAmBC,QAAnB,EARyB;;AAAA,yCAS/B,MAAM,KAAKD,SAAL,CAAe,EAAf,EAAmBE,OAAnB,CAA2B,CAA3B,EAA8B,CAA9B,CATyB;AAExC,KAFM,MAEA;AACL,YAAMP,MAAN;;AADK,qCAKD,MAAM,KAAKM,QAAL,EALL;;AAAA,yCAMG,MAAM,KAAKD,SAAL,CAAe,EAAf,EAAmBC,QAAnB,EANT;;AAAA,yCAOG,MAAM,KAAKD,SAAL,CAAe,EAAf,EAAmBE,OAAnB,CAA2B,CAA3B,EAA8B,CAA9B,CAPT;AAEN;AACF;;AApBoC;;AA2BvCC,MAAM,CAACC,OAAP,GAAiBX,cAAjB","sourcesContent":["const BigNumber = require('bignumber.js')\n\n// not sure how we want to configure rounding for this\nBigNumber.set({ ROUNDING_MODE: BigNumber.ROUND_HALF_DOWN })\nBigNumber.config({ EXPONENTIAL_AT: 1e9 })\n\n// stores filecoin numbers in denominations of Fil, not AttoFil\nclass FilecoinNumber extends BigNumber {\n  constructor(amount, denom) {\n    if (!denom)\n      throw new Error('No Filecoin denomination passed in constructor.')\n    const formattedDenom = denom.toLowerCase()\n    if (\n      formattedDenom !== 'fil' &&\n      formattedDenom !== 'picofil' &&\n      formattedDenom !== 'attofil'\n    )\n      throw new Error(\n        'Unsupported denomination passed in constructor. Must pass picofil or attofil.',\n      )\n    if (formattedDenom === 'picofil') {\n      super(new BigNumber(amount).shiftedBy(-12))\n    } else if (formattedDenom === 'attofil') {\n      super(new BigNumber(amount).shiftedBy(-18))\n    } else {\n      super(amount)\n    }\n  }\n\n  toFil = () => this.toString()\n  toPicoFil = () => this.shiftedBy(12).toString()\n  toAttoFil = () => this.shiftedBy(18).toFixed(0, 1)\n}\n\nmodule.exports = FilecoinNumber\n"],"file":"FilecoinNumber.js"}